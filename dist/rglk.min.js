var rglk=function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=6)}([function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(e,n){r(this,t),this._x=isNaN(e)?0:e,this._y=isNaN(e)?0:n}return i(t,[{key:"distance",value:function(t){return Math.sqrt(Math.pow(t.x-this.x,2)+Math.pow(t.y-this.y,2))}},{key:"x",get:function(){return this._x},set:function(t){isNaN(t)?console.warn("Point2.x: value "+t+" is NaN"):this._x=t}},{key:"y",get:function(){return this._y},set:function(t){isNaN(t)?console.warn("Point2.y: value "+t+" is NaN"):this._y=t}}]),t}();e.default=o},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(){r(this,t)}return i(t,[{key:"classOf",value:function(t){return Object.prototype.toString.call(t).slice(8,-1)}},{key:"isObject",value:function(t){return"Object"===this.classOf(t)}},{key:"isFunction",value:function(t){return"Function"===this.classOf(t)}},{key:"isString",value:function(t){return"string"==typeof t||t instanceof String}},{key:"random",value:function(t,e){var n=Array.prototype.slice.call(arguments);return n.length?1===n.length?Math.round(t*Math.random()):2===n.length?Math.round(t+Math.random()*(e-t)):void 0:Math.random()}},{key:"lerp",value:function(t,e,n){return(1-n)*t+n*e}},{key:"toRadian",value:function(t){return t*Math.PI/180}},{key:"toDegree",value:function(t){return 180*t/Math.PI}},{key:"generateID",value:function(t){t=!isNaN(t)&&t>0?t:1;for(var e="";e.length<t;){e+=Math.random().toString(16).slice(2)}return e.slice(0,t)}},{key:"arrayGetRandom",value:function(t){return t.length?t[this.random(0,t.length-1)]:null}},{key:"arrayRandomize",value:function(t){var e=t.slice();return e.sort(function(){return Math.random()>=.5?1:-1}),e}}]),t}();e.default=o},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(0),u=r(a),s=n(7),f=r(s),l=n(1),c=r(l),h=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,t),this.options={roomMinSize:isNaN(e.roomMinSize)?5:e.roomMinSize,roomMaxSize:isNaN(e.roomMaxSize)?5:e.roomMaxSize,roomAmount:isNaN(e.roomAmount)?1:e.roomAmount,density:isNaN(e.density)?1:e.density}}return o(t,[{key:"generate",value:function(t){this._createRooms(),this._optimizeRooms(),this._createMap(),this.forEachTile(t)}},{key:"forEachTile",value:function(t){if(t instanceof Function)for(var e=0;e<this._tiles.length;e++)for(var n=0;n<this._tiles[e].length;n++)t instanceof Function&&t(n,e,this._tiles[e][n])}},{key:"isWall",value:function(t,e){if(void 0!=this._tiles[e]&&void 0!=this._tiles[e][t])return!this._tiles[e][t]}},{key:"_createRooms",value:function(){var t=(new c.default).random,e=this.options.density,n=this.options.roomAmount,r=this.options.roomMinSize,i=this.options.roomMaxSize,o=new f.default(1,1,t(r,i),t(r,i));for(this.rooms=[o],e>1?e=1:e<0&&(e=0);this.rooms.length!=n;){var a=this.rooms[t(0,this.rooms.length-1)],u=t(r,i),s=t(r,i),l=1+Math.floor(a.width/2+u/2),h=1+Math.floor(a.height/2+s/2),y=Math.floor(l*(2-e)),p=Math.floor(h*(2-e)),d=new f.default(0,0,u,s),v=t(0,3),_=!1;switch(d.x=a.x-Math.round((d.width-a.width)/2),d.y=a.y-Math.round((d.height-a.height)/2),v){case 0:d.x-=t(l,y);break;case 1:d.y+=t(h,p);break;case 2:d.x+=t(l,y);break;case 3:d.y-=t(h,p)}for(var g=0;g<this.rooms.length;g++)if(d.intersects(this.rooms[g])){_=!0;break}_||(d.parent=a,this.rooms.push(d))}}},{key:"_optimizeRooms",value:function(){var t=this._getTopLeft();t.x<1&&this._translateRooms(1-t.x,0),t.y<1&&this._translateRooms(0,1-t.y)}},{key:"_translateRooms",value:function(t,e){this.rooms.forEach(function(n){n.x+=t,n.y+=e})}},{key:"_getTopLeft",value:function(){var t=new u.default(1/0,1/0);return this.rooms.forEach(function(e){e.x<t.x&&(t.x=e.x),e.y<t.y&&(t.y=e.y)}),t}},{key:"_getBottomRight",value:function(){var t=new u.default(-1/0,-1/0);return this.rooms.forEach(function(e){e.x+e.width>t.x&&(t.x=e.x+e.width),e.y+e.height>t.y&&(t.y=e.y+e.height)}),t}},{key:"_createMap",value:function(){var t=this._getBottomRight();this._fillMap(t.x+1,t.y+1),this._buildRooms(),this._buildCorridors()}},{key:"_fillMap",value:function(t,e){this._tiles=[];for(var n=0;n<e;n++){this._tiles.push([]);for(var r=0;r<t;r++)this._tiles[n].push(!1)}}},{key:"_buildRooms",value:function(){this.rooms.forEach(function(t){this._fillRect(t.x,t.y,t.width,t.height)}.bind(this))}},{key:"_buildCorridors",value:function(){this.rooms.forEach(function(t){t.parent&&(this._fillRect(Math.min(t.center.x,t.parent.center.x),t.center.y,Math.abs(t.center.x-t.parent.center.x)+1,1),this._fillRect(t.parent.center.x,Math.min(t.center.y,t.parent.center.y),1,Math.abs(t.center.y-t.parent.center.y)+1))}.bind(this))}},{key:"_fillRect",value:function(t,e,n,r){for(var i=e;i<=e+r-1;i++)for(var o=t;o<=t+n-1;o++)this._tiles[i][o]=!0}},{key:"width",get:function(){return this._tiles[0].length||0}},{key:"height",get:function(){return this._tiles.length||0}}]),t}();e.default=h},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(0),u=r(a),s=n(1),f=r(s),l=function(){function t(e){if(i(this,t),!(new f.default).isFunction(e))return console.warn("Pathfinder: argument "+e+" is not a Function"),void(this._isTransparent=function(){return null});this._isTransparent=e}return o(t,[{key:"_line",value:function(t,e){for(var n=e.x-t.x,r=e.y-t.y,i=Math.abs(n),o=Math.abs(r),a=n>0?1:-1,s=r>0?1:-1,f=new u.default(t.x,t.y),l=[new u.default(f.x,f.y)],c=0,h=0;c<i||h<o;)(.5+c)/i==(.5+h)/o?(f.x+=a,f.y+=s,c++,h++):(.5+c)/i<(.5+h)/o?(f.x+=a,c++):(f.y+=s,h++),l.push(new u.default(f.x,f.y));return l}},{key:"calculate",value:function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n))return console.warn("Explorer.calculate: arguments "+n+" must be a Number");if(!(new f.default).isFunction(r))return console.warn("Explorer.calculate: argument "+r+" is not a Function");for(var i=Math.pow(n,2),o=new u.default(t,e),a=o.x-n,s=o.x+n,l=o.y-n,c=o.y+n,h=l;h<=c;h++)for(var y=a;y<=s;y++)if(h===l||h===c||y===a||y===s)for(var p=this._line(o,new u.default(y,h)),d=0;d<p.length;d++){var v=p[d],_=Math.pow(o.x-v.x,2)+Math.pow(o.y-v.y,2);if(!(_<=i))break;if(!this._isTransparent(v.x,v.y))break;r(v.x,v.y)}}}]),t}();e.default=l},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(0),u=(r(a),n(5)),s=r(u),f=n(1),l=r(f),c=function(){function t(e){if(i(this,t),!(new l.default).isFunction(e))return console.warn("Pathfinder: value "+e+" is not a Function"),void(this._isWalkable=function(){return null});this._isWalkable=e}return o(t,[{key:"_heuristic",value:function(t,e,n,r){return Math.abs(n-t)+Math.abs(r-e)}},{key:"_findNode",value:function(t,e){if(e instanceof s.default)for(var n=0;n<t.length;n++)if(t[n].x===e.x&&t[n].y===e.y)return n}},{key:"_getNeighbors",value:function(t){for(var e=[],n=t.y-1;n<=t.y+1;n++)for(var r=t.x-1;r<=t.x+1;r++)(r===t.x&&n!=t.y||r!=t.x&&n===t.y)&&this._isWalkable(r,n)&&e.push(new s.default({x:r,y:n,parent:t}));return e}},{key:"search",value:function(t,e,n,r){for(var i=new s.default({x:t,y:e}),o=new s.default({x:n,y:r}),a=[i],u=[];a.length>0;){var f=0,l=a[0];if(a.forEach(function(t,e){t.f<l.f&&(l=t,f=e)}),l.x===o.x&&l.y===o.y){for(var c=l,h=[];c.parent;)h.push(c),c=c.parent;return h.reverse()}a.splice(f,1),u.push(l);for(var y=this._getNeighbors(l),p=0;p<y.length;p++){var d=y[p],v=l.g+1,_=!1;this._findNode(u,d)||(this._findNode(a,d)?v<d.g&&(_=!0):(_=!0,d.h=this._heuristic(d.x,d.y,o.x,o.y),a.push(d)),_&&(d.parent=l,d.g=v))}}return[]}}]),t}();e.default=c},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(0),s=function(t){return t&&t.__esModule?t:{default:t}}(u),f=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t.x,t.y));return n._g=isNaN(t.g)?0:t.g,n._h=isNaN(t.h)?0:t.h,n._parent=t.parent||null,n}return o(e,t),a(e,[{key:"g",get:function(){return this._g},set:function(t){isNaN(t)?console.warn("Node2.g: value "+t+" is NaN"):this._g=t}},{key:"h",get:function(){return this._h},set:function(t){isNaN(t)?console.warn("Node2.h: value "+t+" is NaN"):this._h=t}},{key:"parent",get:function(){return this._parent},set:function(t){t instanceof e?this._parent=t:console.warn("Node2.parent: value "+t+" is not a Node2")}},{key:"f",get:function(){return this.g+this.h}}]),e}(s.default);e.default=f},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(1),u=r(a),s=n(2),f=r(s),l=n(4),c=r(l),h=n(3),y=r(h),p=function(){function t(){i(this,t),this._utils=new u.default,this._Dungeon=f.default,this._Explorer=y.default,this._Pathfinder=c.default}return o(t,[{key:"utils",get:function(){return this._utils}},{key:"Dungeon",get:function(){return this._Dungeon}},{key:"Explorer",get:function(){return this._Explorer}},{key:"Pathfinder",get:function(){return this._Pathfinder}}]),t}();t.exports=new p},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(0),s=function(t){return t&&t.__esModule?t:{default:t}}(u),f=function(t){function e(t,n,o,a){r(this,e);var u=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return u._width=isNaN(o)?5:o,u._height=isNaN(a)?5:a,u}return o(e,t),a(e,[{key:"intersects",value:function(t){return!(t.x>this.x+this.width||t.x+t.width<this.x||t.y>this.y+this.height||t.y+t.height<this.y)}},{key:"width",get:function(){return this._width},set:function(t){if(isNaN(t))throw new TypeError("Value "+t+" is not a Number");this._width=t}},{key:"height",get:function(){return this._height},set:function(t){if(isNaN(t))throw new TypeError("Value "+t+" is not a Number");this._height=t}},{key:"center",get:function(){return new s.default(Math.floor(this.x+this.width/2),Math.floor(this.y+this.height/2))}}]),e}(s.default);e.default=f}]);